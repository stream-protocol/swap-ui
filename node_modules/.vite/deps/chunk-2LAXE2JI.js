import {
  require_eventemitter3
} from "./chunk-AO5ZEENO.js";
import {
  __objRest,
  __toESM
} from "./chunk-5537U2Q2.js";

// node_modules/@solana/wallet-adapter-base/lib/esm/adapter.mjs
var import_eventemitter3 = __toESM(require_eventemitter3(), 1);
var WalletReadyState;
(function(WalletReadyState2) {
  WalletReadyState2["Installed"] = "Installed";
  WalletReadyState2["NotDetected"] = "NotDetected";
  WalletReadyState2["Loadable"] = "Loadable";
  WalletReadyState2["Unsupported"] = "Unsupported";
})(WalletReadyState || (WalletReadyState = {}));
var BaseWalletAdapter = class extends import_eventemitter3.default {
  get connected() {
    return !!this.publicKey;
  }
};
function scopePollingDetectionStrategy(detect) {
  if (typeof window === "undefined" || typeof document === "undefined")
    return;
  const disposers = [];
  function detectAndDispose() {
    const detected = detect();
    if (detected) {
      for (const dispose of disposers) {
        dispose();
      }
    }
  }
  const interval = setInterval(detectAndDispose, 1e3);
  disposers.push(() => clearInterval(interval));
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", detectAndDispose, { once: true });
    disposers.push(() => document.removeEventListener("DOMContentLoaded", detectAndDispose));
  }
  if (document.readyState !== "complete") {
    window.addEventListener("load", detectAndDispose, { once: true });
    disposers.push(() => window.removeEventListener("load", detectAndDispose));
  }
  detectAndDispose();
}

// node_modules/@solana/wallet-adapter-base/lib/esm/errors.mjs
var WalletError = class extends Error {
  constructor(message, error) {
    super(message);
    this.error = error;
  }
};
var WalletNotReadyError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletNotReadyError";
  }
};
var WalletLoadError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletLoadError";
  }
};
var WalletConfigError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletConfigError";
  }
};
var WalletConnectionError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletConnectionError";
  }
};
var WalletDisconnectedError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletDisconnectedError";
  }
};
var WalletDisconnectionError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletDisconnectionError";
  }
};
var WalletAccountError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletAccountError";
  }
};
var WalletPublicKeyError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletPublicKeyError";
  }
};
var WalletKeypairError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletKeypairError";
  }
};
var WalletNotConnectedError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletNotConnectedError";
  }
};
var WalletSendTransactionError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletSendTransactionError";
  }
};
var WalletSignMessageError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletSignMessageError";
  }
};
var WalletSignTransactionError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletSignTransactionError";
  }
};
var WalletTimeoutError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletTimeoutError";
  }
};
var WalletWindowBlockedError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletWindowBlockedError";
  }
};
var WalletWindowClosedError = class extends WalletError {
  constructor() {
    super(...arguments);
    this.name = "WalletWindowClosedError";
  }
};

// node_modules/@solana/wallet-adapter-base/lib/esm/signer.mjs
var BaseSignerWalletAdapter = class extends BaseWalletAdapter {
  async sendTransaction(transaction, connection, options = {}) {
    let emit = true;
    try {
      try {
        transaction.feePayer = transaction.feePayer || this.publicKey || void 0;
        transaction.recentBlockhash = transaction.recentBlockhash || (await connection.getRecentBlockhash("finalized")).blockhash;
        const _a = options, { signers } = _a, sendOptions = __objRest(_a, ["signers"]);
        (signers === null || signers === void 0 ? void 0 : signers.length) && transaction.partialSign(...signers);
        transaction = await this.signTransaction(transaction);
        const rawTransaction = transaction.serialize();
        return await connection.sendRawTransaction(rawTransaction, sendOptions);
      } catch (error) {
        if (error instanceof WalletError) {
          emit = false;
          throw error;
        }
        throw new WalletSendTransactionError(error === null || error === void 0 ? void 0 : error.message, error);
      }
    } catch (error) {
      if (emit) {
        this.emit("error", error);
      }
      throw error;
    }
  }
};
var BaseMessageSignerWalletAdapter = class extends BaseSignerWalletAdapter {
};

// node_modules/@solana/wallet-adapter-base/lib/esm/types.mjs
var WalletAdapterNetwork;
(function(WalletAdapterNetwork2) {
  WalletAdapterNetwork2["Mainnet"] = "mainnet-beta";
  WalletAdapterNetwork2["Testnet"] = "testnet";
  WalletAdapterNetwork2["Devnet"] = "devnet";
})(WalletAdapterNetwork || (WalletAdapterNetwork = {}));

export {
  import_eventemitter3,
  WalletReadyState,
  BaseWalletAdapter,
  scopePollingDetectionStrategy,
  WalletError,
  WalletNotReadyError,
  WalletLoadError,
  WalletConfigError,
  WalletConnectionError,
  WalletDisconnectedError,
  WalletDisconnectionError,
  WalletAccountError,
  WalletPublicKeyError,
  WalletKeypairError,
  WalletNotConnectedError,
  WalletSendTransactionError,
  WalletSignMessageError,
  WalletSignTransactionError,
  WalletTimeoutError,
  WalletWindowBlockedError,
  WalletWindowClosedError,
  BaseSignerWalletAdapter,
  BaseMessageSignerWalletAdapter,
  WalletAdapterNetwork
};
//# sourceMappingURL=chunk-2LAXE2JI.js.map
